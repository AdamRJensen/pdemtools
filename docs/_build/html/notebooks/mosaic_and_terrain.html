<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Download mosaic and calculate terrain parameters &mdash; pdemtools 0.6 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=ec806d2c"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Strip search and coregistraion" href="strip_search_and_dem_difference.html" />
    <link rel="prev" title="Cite" href="../getting_started/cite.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pdemtools
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/supplementary_datasets.html">Supplementary datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/cite.html">Cite</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Download mosaic and calculate terrain parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Load-mosiac">Load mosiac</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Postprocessing">Postprocessing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Geoid-Correction">Geoid Correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Sea-Level-Filtering">Sea Level Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Terrain-Parameters">Terrain Parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="strip_search_and_dem_difference.html">Strip search and coregistraion</a></li>
<li class="toctree-l1"><a class="reference internal" href="get_icebergs.html">Iceberg detection</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/search.html"><cite>pdemtools.search</cite> function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/load.html"><cite>pdemtools.load</cite> module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/data.html"><cite>pdemtools.data</cite> module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/pdt_accessor.html">xarray <cite>.pdt</cite> accessor</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/version_updates.html">Version updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/references.html">Refererences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/acknowledgements.html">Acknowledgements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pdemtools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Download mosaic and calculate terrain parameters</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/notebooks/mosaic_and_terrain.nblink.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Download-mosaic-and-calculate-terrain-parameters">
<h1>Download mosaic and calculate terrain parameters<a class="headerlink" href="#Download-mosaic-and-calculate-terrain-parameters" title="Link to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">pdemtools</span> <span class="k">as</span> <span class="nn">pdt</span>
</pre></div>
</div>
</div>
<p>As well as <code class="docutils literal notranslate"><span class="pre">pdemtools</span></code>, we will also make use of <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> to plot our results in this notebook.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.constrained_layout.use&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Arial&quot;</span>

<span class="c1"># %matplotlib widget</span>
</pre></div>
</div>
</div>
<section id="Load-mosiac">
<h2>Load mosiac<a class="headerlink" href="#Load-mosiac" title="Link to this heading"></a></h2>
<p>To load mosaics from the PGC AWS bucket, we can make use of pDEMtools’ <code class="docutils literal notranslate"><span class="pre">load.mosaic()</span></code> function.</p>
<p>All we need is the bounds of our area of interest. This can be a tuple (in the format <code class="docutils literal notranslate"><span class="pre">[xmin,</span> <span class="pre">ymin,</span> <span class="pre">xmax,</span> <span class="pre">ymax]</span></code>) or a <code class="docutils literal notranslate"><span class="pre">shapely</span></code> geometry. Note that pDEMtools currently only accepts bounds in the same format as the ArcticDEM/REMA datasets themselves: that is say, the Polar Stereographic projections (EPSG:3413 for the north and EPSG:3031 for the south).</p>
<p>For this example, let’s set the bounds to take a look at Helheim Glacier:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bounds</span> <span class="o">=</span> <span class="p">(</span><span class="mi">295000</span><span class="p">,</span><span class="o">-</span><span class="mi">2585000</span><span class="p">,</span><span class="mi">315000</span><span class="p">,</span><span class="o">-</span><span class="mi">2567000</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<p>Now we can use the <code class="docutils literal notranslate"><span class="pre">pdemtools.mosaic()</span></code> function, specificying the dataset (<code class="docutils literal notranslate"><span class="pre">'arcicdem'</span></code> or <code class="docutils literal notranslate"><span class="pre">'rema'</span></code>), resolution (which can be either <code class="docutils literal notranslate"><span class="pre">2</span></code>, <code class="docutils literal notranslate"><span class="pre">10</span></code>, or <code class="docutils literal notranslate"><span class="pre">32</span></code> metres), and the aforementioned bounding box. Note that, at this step, we are downloading the data from the AWS bucket, so 2 m resolution mosaics may take a while to download. Let’s download the 32 m mosaic for now:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>
<span class="n">dem</span> <span class="o">=</span> <span class="n">pdt</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">mosaic</span><span class="p">(</span>
    <span class="n">dataset</span><span class="o">=</span><span class="s1">&#39;arcticdem&#39;</span><span class="p">,</span>  <span class="c1"># must be `arcticdem` or `rema`</span>
    <span class="n">resolution</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span>        <span class="c1"># must be 2, 10, or 32</span>
    <span class="n">bounds</span><span class="o">=</span><span class="n">bounds</span><span class="p">,</span>        <span class="c1"># (xmin, ymin, xmax, ymax) or shapely geometry</span>
    <span class="n">version</span><span class="o">=</span><span class="s1">&#39;v4.1&#39;</span><span class="p">,</span>       <span class="c1"># optional: desired version (defaults to most recent)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
CPU times: user 203 ms, sys: 45.7 ms, total: 249 ms
Wall time: 6.52 s
</pre></div></div>
</div>
<p>pDEMtool functions return <code class="docutils literal notranslate"><span class="pre">`rioxarray</span></code>-compatible <code class="docutils literal notranslate"><span class="pre">xarray</span></code> DataArrays &lt;<a class="reference external" href="https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray-rio-accessors">https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray-rio-accessors</a>&gt;`__, meaning you can take advantage of all relevant functionality, such as saving:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;example_data&#39;</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s1">&#39;example_data&#39;</span><span class="p">)</span>

<span class="n">dem</span><span class="o">.</span><span class="n">rio</span><span class="o">.</span><span class="n">to_raster</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;example_data/helheim_arcticdem_mosaic_32m.tif&#39;</span><span class="p">,</span> <span class="n">compress</span><span class="o">=</span><span class="s1">&#39;ZSTD&#39;</span><span class="p">,</span> <span class="n">predictor</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">zlevel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Or plotting:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="n">dem</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gist_earth&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">900</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;32 m ArcticDEM mosaic of Helheim Glacier&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 1.0, &#39;32 m ArcticDEM mosaic of Helheim Glacier&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_mosaic_and_terrain_13_1.png" src="../_images/notebooks_mosaic_and_terrain_13_1.png" />
</div>
</div>
</section>
<section id="Postprocessing">
<h2>Postprocessing<a class="headerlink" href="#Postprocessing" title="Link to this heading"></a></h2>
<p>pDEMtools introduces a handy <a class="reference external" href="https://docs.xarray.dev/en/stable/internals/extending-xarray.html">xarray accessor</a> for performing preliminary preprocessing and assessment. These aren’t intended to be as full-featured as some other excellent community tools, such as <a class="reference external" href="https://xdem.readthedocs.io/en/stable/">xdem</a> or <a class="reference external" href="https://github.com/r-barnes/richdem">richdem</a>, but it is hoped that they are <em>specific</em> to the sort of uses that ArcticDEM and REMA users might want (e.g. a focus on ice sheet
and cryosphere work), as well as the particular <em>strengths</em> of ArcticDEM and REMA datasets (high-resolution and multitemporal).</p>
<section id="Geoid-Correction">
<h3>Geoid Correction<a class="headerlink" href="#Geoid-Correction" title="Link to this heading"></a></h3>
<p>By taking advantage of a local copy of the Greenland or Antarctica BedMachine, the <code class="docutils literal notranslate"><span class="pre">data</span></code> module’s <code class="docutils literal notranslate"><span class="pre">geoid_from_bedmachine()</span></code> function can be used to quickly extract a valid geoid, reprojected and resampled to match the study area:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bedmachine_fpath</span> <span class="o">=</span> <span class="s1">&#39;.../BedMachineGreenland-v5.nc&#39;</span>

<span class="n">geoid</span> <span class="o">=</span> <span class="n">pdt</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">geoid_from_bedmachine</span><span class="p">(</span><span class="n">bedmachine_fpath</span><span class="p">,</span> <span class="n">dem</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>If you wish to use a different geoid (for instance, you are interested in a region outside of Greenland or Antarctica) you can also use your own geoid, loaded via xarray. To aid with this, a <code class="docutils literal notranslate"><span class="pre">geoid_from_raster()</span></code> function is also included in the <code class="docutils literal notranslate"><span class="pre">data</span></code> module, accepting a filepath to a <code class="docutils literal notranslate"><span class="pre">rioxarray.open_rasterio()</span></code>-compatible file type.</p>
<p>We can then correct the DEM using geoid and the <code class="docutils literal notranslate"><span class="pre">.pdt.geoid_correct()</span></code> function.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dem_geoidcor</span> <span class="o">=</span> <span class="n">dem</span><span class="o">.</span><span class="n">pdt</span><span class="o">.</span><span class="n">geoid_correct</span><span class="p">(</span><span class="n">geoid</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Sea-Level-Filtering">
<h3>Sea Level Filtering<a class="headerlink" href="#Sea-Level-Filtering" title="Link to this heading"></a></h3>
<p>We can also filter out sea level from geoid-corrected DEMs, adapting the method of Shiggins <em>et al.</em> (2023) to detect sea level.</p>
<p>In this workflow, sea-level is defined as the modal 0.25 m histogram bin between +10 and -10 metres above the geoid. If there is not at least 1 km2 of surface between these values, then the DEM is considered to have no signficant ocean surface. DEM surface is masked as ocean where the surface is within 5 m of the detected sea level.</p>
<p>All of these values can be modified as input variables, but to stick with the defaults we can leave as-is:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dem_masked</span> <span class="o">=</span> <span class="n">dem_geoidcor</span><span class="o">.</span><span class="n">pdt</span><span class="o">.</span><span class="n">mask_ocean</span><span class="p">(</span><span class="n">near_sealevel_thresh_m</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="n">dem_masked</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gist_earth&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">900</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Helheim Glacier (geoid-corrected and ocean-masked&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 1.0, &#39;Helheim Glacier (geoid-corrected and ocean-masked&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_mosaic_and_terrain_24_1.png" src="../_images/notebooks_mosaic_and_terrain_24_1.png" />
</div>
</div>
<p>Although it is not the case for the new (v.4.1) ArcticDEM mosaic, when examining individual strips or older mosaics, icebergs will remain unmasked. This is reflective of the original purpose of the Shiggins <em>et al.</em> (2023) method, which was to identify icebergs!</p>
<p>If desired, we can resolve this by filtering out smaller groups of pixels. pDEMtools offers this function as part of the <code class="docutils literal notranslate"><span class="pre">.pdt.mask_icebergs()</span></code> function, which wraps the <code class="docutils literal notranslate"><span class="pre">cv2.connectedComponentsWithStats</span></code> function to filter out contiguous areas beneath a provided area threshold (defaults to 1e6 m2, i.e. 1 km2)</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dem_masked</span> <span class="o">=</span> <span class="n">dem_masked</span><span class="o">.</span><span class="n">pdt</span><span class="o">.</span><span class="n">mask_icebergs</span><span class="p">(</span><span class="n">area_thresh_m2</span><span class="o">=</span><span class="mf">1e6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Terrain-Parameters">
<h3>Terrain Parameters<a class="headerlink" href="#Terrain-Parameters" title="Link to this heading"></a></h3>
<p>The full list of terrain variables you can calculate with pDEMtools is as follows:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">variable_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;slope&#39;</span><span class="p">,</span>
    <span class="s1">&#39;aspect&#39;</span><span class="p">,</span>
    <span class="s1">&#39;hillshade&#39;</span><span class="p">,</span>
    <span class="s2">&quot;horizontal_curvature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;vertical_curvature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;mean_curvature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gaussian_curvature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;unsphericity_curvature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;minimal_curvature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;maximal_curvature&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<p>The geomorphometric parameters used to calculate these variables (<span class="math notranslate nohighlight">\(\frac{\partial z}{\partial x}\)</span>, <span class="math notranslate nohighlight">\(\frac{\partial z}{\partial y}\)</span>, <span class="math notranslate nohighlight">\(\frac{\partial^2 z}{\partial x^2}\)</span>, <span class="math notranslate nohighlight">\(\frac{\partial^2 z}{\partial y^2}\)</span>, <span class="math notranslate nohighlight">\(\frac{\partial^2 z}{\partial x \partial y}\)</span>) are derived following Florinsky (2009), as opposed to more common methods (e.g. Horn, 1981, or Zevenbergen &amp; Thorne, 1987).</p>
<p>The motivation here is that Florinsky (2009) computes partial derivatives of elevation based on fitting a third-order polynomial, by the least-squares approach, to a 5$:nbsphinx-math:<cite>times</cite><span class="math notranslate nohighlight">\(5 window, as opposed to the more common 3\)</span>:nbsphinx-math:<a href="#id1"><span class="problematic" id="id2">`</span></a>times`$3 window. This is more appropriate for high-resolution DEMs: curvature over a 10 m window for the 2 m resolution ArcticDEM/REMA strips will lead to a local deonising effect that limits the impact of noise.</p>
<p>After contructing the list of variabels you would like to calculate, you can request them from the <code class="docutils literal notranslate"><span class="pre">pdt.terrain()</span></code> accessor function. Note there are some bonus settings regarding the hillshade, such as the z factor, using a multidirectional algorithm, or selecting the azimuth/altitude.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terrain</span> <span class="o">=</span> <span class="n">dem_masked</span><span class="o">.</span><span class="n">pdt</span><span class="o">.</span><span class="n">terrain</span><span class="p">(</span><span class="n">variable_list</span><span class="p">,</span> <span class="n">hillshade_z_factor</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">hillshade_multidirectional</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>If you would rather calculate these variables using a more traditional method, you can add <code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">=</span> <span class="pre">'ZevenbergThorne'</span></code> to the <code class="docutils literal notranslate"><span class="pre">.pdt.terrain()</span></code> function to calculate following Zevenbergen and Thorne (1987).</p>
<p>The output of the <code class="docutils literal notranslate"><span class="pre">.pdt.terrain()</span></code> function, here the <code class="docutils literal notranslate"><span class="pre">terrain</span></code> variable, is a (rio)xarray DataSet containing all the selected variables, as well as the original DEM:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">terrain</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:                 (x: 626, y: 564, band: 1)
Coordinates:
  * x                       (x) float64 2.95e+05 2.95e+05 ... 3.15e+05 3.15e+05
  * y                       (y) float64 -2.567e+06 -2.567e+06 ... -2.585e+06
  * band                    (band) int64 1
    spatial_ref             int64 0
    mapping                 int64 0
Data variables:
    dem                     (band, y, x) float32 602.5 603.1 ... 936.9 937.1
    slope                   (band, y, x) float32 nan nan nan nan ... nan nan nan
    aspect                  (band, y, x) float32 nan nan nan nan ... nan nan nan
    hillshade               (band, y, x) float64 nan nan nan nan ... nan nan nan
    horizontal_curvature    (band, y, x) float32 nan nan nan nan ... nan nan nan
    vertical_curvature      (band, y, x) float32 nan nan nan nan ... nan nan nan
    mean_curvature          (band, y, x) float32 nan nan nan nan ... nan nan nan
    gaussian_curvature      (band, y, x) float32 nan nan nan nan ... nan nan nan
    unsphericity_curvature  (band, y, x) float32 nan nan nan nan ... nan nan nan
    minimal_curvature       (band, y, x) float32 nan nan nan nan ... nan nan nan
    maximal_curvature       (band, y, x) float32 nan nan nan nan ... nan nan nan</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-258bb81f-572d-4519-9198-39ce34199894' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-258bb81f-572d-4519-9198-39ce34199894' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>x</span>: 626</li><li><span class='xr-has-index'>y</span>: 564</li><li><span class='xr-has-index'>band</span>: 1</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-d18c24af-6f3a-4980-815e-c0531ebe3892' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d18c24af-6f3a-4980-815e-c0531ebe3892' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.95e+05 2.95e+05 ... 3.15e+05</div><input id='attrs-4fbde7db-ea1a-4353-99ac-c338acb2f817' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4fbde7db-ea1a-4353-99ac-c338acb2f817' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9088da8b-89cb-4274-9288-8e6cccf8849c' class='xr-var-data-in' type='checkbox'><label for='data-9088da8b-89cb-4274-9288-8e6cccf8849c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([294992., 295024., 295056., ..., 314928., 314960., 314992.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-2.567e+06 ... -2.585e+06</div><input id='attrs-dea686a3-d6aa-4a15-81ec-36bcaacc4f00' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-dea686a3-d6aa-4a15-81ec-36bcaacc4f00' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e8e6c5f5-f84a-4d64-9690-c61dac054097' class='xr-var-data-in' type='checkbox'><label for='data-e8e6c5f5-f84a-4d64-9690-c61dac054097' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([-2566992., -2567024., -2567056., ..., -2584944., -2584976., -2585008.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-8504de4d-47d0-4ce7-b860-5bb611171e17' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8504de4d-47d0-4ce7-b860-5bb611171e17' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3165a1e1-e151-4453-8f41-803f67316e6b' class='xr-var-data-in' type='checkbox'><label for='data-3165a1e1-e151-4453-8f41-803f67316e6b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-d9a3d578-5b19-4aac-92c2-a34c8e3db49a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d9a3d578-5b19-4aac-92c2-a34c8e3db49a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-99635642-c42b-44db-836b-232693e63a73' class='xr-var-data-in' type='checkbox'><label for='data-99635642-c42b-44db-836b-232693e63a73' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;WGS 84 / NSIDC Sea Ice Polar Stereographic North&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Polar_Stereographic&quot;],PARAMETER[&quot;latitude_of_origin&quot;,70],PARAMETER[&quot;central_meridian&quot;,-45],PARAMETER[&quot;false_easting&quot;,0],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,SOUTH],AXIS[&quot;Northing&quot;,SOUTH],AUTHORITY[&quot;EPSG&quot;,&quot;3413&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314245179</dd><dt><span>inverse_flattening :</span></dt><dd>298.257223563</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>WGS 84</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>WGS 84</dd><dt><span>horizontal_datum_name :</span></dt><dd>World Geodetic System 1984</dd><dt><span>projected_crs_name :</span></dt><dd>WGS 84 / NSIDC Sea Ice Polar Stereographic North</dd><dt><span>grid_mapping_name :</span></dt><dd>polar_stereographic</dd><dt><span>standard_parallel :</span></dt><dd>70.0</dd><dt><span>straight_vertical_longitude_from_pole :</span></dt><dd>-45.0</dd><dt><span>false_easting :</span></dt><dd>0.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;WGS 84 / NSIDC Sea Ice Polar Stereographic North&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Polar_Stereographic&quot;],PARAMETER[&quot;latitude_of_origin&quot;,70],PARAMETER[&quot;central_meridian&quot;,-45],PARAMETER[&quot;false_easting&quot;,0],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,SOUTH],AXIS[&quot;Northing&quot;,SOUTH],AUTHORITY[&quot;EPSG&quot;,&quot;3413&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>294976.0 32.0 0.0 -2566976.0 0.0 -32.0</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>mapping</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-55064683-3bde-4473-8b40-7bd693a2830a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-55064683-3bde-4473-8b40-7bd693a2830a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a00e64ae-5011-46c2-8b6b-76f21053fbf9' class='xr-var-data-in' type='checkbox'><label for='data-a00e64ae-5011-46c2-8b6b-76f21053fbf9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;WGS 84 / NSIDC Sea Ice Polar Stereographic North&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Polar_Stereographic&quot;],PARAMETER[&quot;latitude_of_origin&quot;,70],PARAMETER[&quot;central_meridian&quot;,-45],PARAMETER[&quot;false_easting&quot;,0],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;X&quot;,EAST],AXIS[&quot;Y&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;3413&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314245179</dd><dt><span>inverse_flattening :</span></dt><dd>298.257223563</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>WGS 84</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>WGS 84</dd><dt><span>horizontal_datum_name :</span></dt><dd>World Geodetic System 1984</dd><dt><span>projected_crs_name :</span></dt><dd>WGS 84 / NSIDC Sea Ice Polar Stereographic North</dd><dt><span>grid_mapping_name :</span></dt><dd>polar_stereographic</dd><dt><span>standard_parallel :</span></dt><dd>70.0</dd><dt><span>straight_vertical_longitude_from_pole :</span></dt><dd>-45.0</dd><dt><span>false_easting :</span></dt><dd>0.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;WGS 84 / NSIDC Sea Ice Polar Stereographic North&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Polar_Stereographic&quot;],PARAMETER[&quot;latitude_of_origin&quot;,70],PARAMETER[&quot;central_meridian&quot;,-45],PARAMETER[&quot;false_easting&quot;,0],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;X&quot;,EAST],AXIS[&quot;Y&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;3413&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>-653000.0 150.0 0.0 -632600.0 0.0 -150.0</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-b819a76c-a3a1-4d63-be53-f939ad88c1f2' class='xr-section-summary-in' type='checkbox'  checked><label for='section-b819a76c-a3a1-4d63-be53-f939ad88c1f2' class='xr-section-summary' >Data variables: <span>(11)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>dem</span></div><div class='xr-var-dims'>(band, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>602.5 603.1 603.1 ... 936.9 937.1</div><input id='attrs-de165ba6-1256-4bcd-8afc-dcc4e3034d52' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-de165ba6-1256-4bcd-8afc-dcc4e3034d52' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8c5e01bd-4a1c-46cf-b5b8-6799133ab9e3' class='xr-var-data-in' type='checkbox'><label for='data-8c5e01bd-4a1c-46cf-b5b8-6799133ab9e3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[602.5    , 603.125  , 603.08594, ..., 690.0156 , 676.1875 ,
         673.4375 ],
        [601.0625 , 602.0547 , 602.     , ..., 686.7969 , 679.     ,
         681.08594],
        [599.5547 , 600.71094, 600.8672 , ..., 686.1406 , 684.5469 ,
         690.10156],
        ...,
        [883.2344 , 882.25   , 881.2969 , ..., 934.53125, 934.96094,
         935.3047 ],
        [884.4453 , 883.4375 , 882.46875, ..., 935.6797 , 936.0156 ,
         936.27344],
        [885.8828 , 884.83594, 883.8203 , ..., 936.66406, 936.9219 ,
         937.0781 ]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>slope</span></div><div class='xr-var-dims'>(band, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-45fd4570-4a16-4631-b7a2-a1f8d06a22d1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-45fd4570-4a16-4631-b7a2-a1f8d06a22d1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-634893ab-2fcb-4542-9f23-e466b9cbe733' class='xr-var-data-in' type='checkbox'><label for='data-634893ab-2fcb-4542-9f23-e466b9cbe733' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,  1.7502437, ..., 14.766537 ,
                nan,        nan],
        ...,
        [       nan,        nan,  2.162543 , ...,  1.9647783,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>aspect</span></div><div class='xr-var-dims'>(band, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-6163da20-fb80-4cde-b5b8-7e965454244b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-6163da20-fb80-4cde-b5b8-7e965454244b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-85aed3bf-da69-4e4a-b7ab-db48c128a01a' class='xr-var-data-in' type='checkbox'><label for='data-85aed3bf-da69-4e4a-b7ab-db48c128a01a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan, 191.86356 , ...,  86.46767 ,
                nan,        nan],
        ...,
        [       nan,        nan,  41.641518, ..., 338.0291  ,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>hillshade</span></div><div class='xr-var-dims'>(band, y, x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-313098c0-c26a-4e3e-b081-fd9432a905db' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-313098c0-c26a-4e3e-b081-fd9432a905db' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-95d4b672-490d-453c-bd26-17c174fdc869' class='xr-var-data-in' type='checkbox'><label for='data-95d4b672-490d-453c-bd26-17c174fdc869' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan, 0.6369432 , ..., 0.67199042,
                nan,        nan],
        ...,
        [       nan,        nan, 0.68571736, ..., 0.61964701,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>horizontal_curvature</span></div><div class='xr-var-dims'>(band, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-59649905-aad2-4046-aa8a-8c3bd3171719' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-59649905-aad2-4046-aa8a-8c3bd3171719' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5f3492c7-19ca-4f5e-b66a-57cbb12150a3' class='xr-var-data-in' type='checkbox'><label for='data-5f3492c7-19ca-4f5e-b66a-57cbb12150a3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan, -1.0631887e-05, ...,
          1.5702754e-03,            nan,            nan],
        ...,
        [           nan,            nan, -8.5292078e-05, ...,
          2.6429603e-05,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>vertical_curvature</span></div><div class='xr-var-dims'>(band, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-dd3b9278-8da3-4090-b524-71a3a10ab29a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-dd3b9278-8da3-4090-b524-71a3a10ab29a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-60ef8153-ec39-4e01-b331-293386bee941' class='xr-var-data-in' type='checkbox'><label for='data-60ef8153-ec39-4e01-b331-293386bee941' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,  6.5694432e-05, ...,
         -3.9236089e-03,            nan,            nan],
        ...,
        [           nan,            nan, -1.1842556e-04, ...,
          1.6487051e-04,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>mean_curvature</span></div><div class='xr-var-dims'>(band, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-0491a782-afaa-49a6-9d4f-8aaf49d08c7f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0491a782-afaa-49a6-9d4f-8aaf49d08c7f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8318f6e0-b31d-4dc0-a4ac-7eecd2594191' class='xr-var-data-in' type='checkbox'><label for='data-8318f6e0-b31d-4dc0-a4ac-7eecd2594191' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,  2.7531272e-05, ...,
         -1.1766669e-03,            nan,            nan],
        ...,
        [           nan,            nan, -1.0185883e-04, ...,
          9.5650044e-05,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>gaussian_curvature</span></div><div class='xr-var-dims'>(band, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-b84c8341-ea55-41b9-bd05-597bc969f402' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b84c8341-ea55-41b9-bd05-597bc969f402' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-04b4c285-38d9-4335-93fe-efa368df211d' class='xr-var-data-in' type='checkbox'><label for='data-04b4c285-38d9-4335-93fe-efa368df211d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan, -2.1265961e-08, ...,
         -1.8309031e-05,            nan,            nan],
        ...,
        [           nan,            nan,  2.9410390e-09, ...,
          8.5555069e-10,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>unsphericity_curvature</span></div><div class='xr-var-dims'>(band, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-d0e174e8-218e-4982-bf57-b1ecf14ec7be' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d0e174e8-218e-4982-bf57-b1ecf14ec7be' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ba84dc44-8128-42ed-bfba-2e6cc7b0d08e' class='xr-var-data-in' type='checkbox'><label for='data-ba84dc44-8128-42ed-bfba-2e6cc7b0d08e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[          nan,           nan,           nan, ...,
                   nan,           nan,           nan],
        [          nan,           nan,           nan, ...,
                   nan,           nan,           nan],
        [          nan,           nan, 1.4840462e-04, ...,
         4.4377446e-03,           nan,           nan],
        ...,
        [          nan,           nan, 8.6221706e-05, ...,
         9.1068003e-05,           nan,           nan],
        [          nan,           nan,           nan, ...,
                   nan,           nan,           nan],
        [          nan,           nan,           nan, ...,
                   nan,           nan,           nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>minimal_curvature</span></div><div class='xr-var-dims'>(band, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-5d603379-00f4-4648-8e0c-451b971949d2' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-5d603379-00f4-4648-8e0c-451b971949d2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8f25f78b-3041-4c40-958c-1244105e4045' class='xr-var-data-in' type='checkbox'><label for='data-8f25f78b-3041-4c40-958c-1244105e4045' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan, -1.2087335e-04, ...,
         -5.6144116e-03,            nan,            nan],
        ...,
        [           nan,            nan, -1.8808054e-04, ...,
          4.5820416e-06,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>maximal_curvature</span></div><div class='xr-var-dims'>(band, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-a172dbb5-8db4-4fd2-a584-12d913eb1db3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a172dbb5-8db4-4fd2-a584-12d913eb1db3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ffea45cd-2daf-4079-b589-5eb81a8f05c7' class='xr-var-data-in' type='checkbox'><label for='data-ffea45cd-2daf-4079-b589-5eb81a8f05c7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,  1.7593590e-04, ...,
          3.2610777e-03,            nan,            nan],
        ...,
        [           nan,            nan, -1.5637124e-05, ...,
          1.8671804e-04,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan],
        [           nan,            nan,            nan, ...,
                    nan,            nan,            nan]]], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-5d5ba569-78ca-4ef8-929e-e54eb55e5da8' class='xr-section-summary-in' type='checkbox'  ><label for='section-5d5ba569-78ca-4ef8-929e-e54eb55e5da8' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-4e0f1e33-ae05-447c-ad09-728f78fa21fc' class='xr-index-data-in' type='checkbox'/><label for='index-4e0f1e33-ae05-447c-ad09-728f78fa21fc' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([294992.0, 295024.0, 295056.0, 295088.0, 295120.0, 295152.0, 295184.0,
       295216.0, 295248.0, 295280.0,
       ...
       314704.0, 314736.0, 314768.0, 314800.0, 314832.0, 314864.0, 314896.0,
       314928.0, 314960.0, 314992.0],
      dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;, length=626))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-1b46a11e-0dd2-4fd6-815c-0561a2424e3d' class='xr-index-data-in' type='checkbox'/><label for='index-1b46a11e-0dd2-4fd6-815c-0561a2424e3d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-2566992.0, -2567024.0, -2567056.0, -2567088.0, -2567120.0, -2567152.0,
       -2567184.0, -2567216.0, -2567248.0, -2567280.0,
       ...
       -2584720.0, -2584752.0, -2584784.0, -2584816.0, -2584848.0, -2584880.0,
       -2584912.0, -2584944.0, -2584976.0, -2585008.0],
      dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;, length=564))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>band</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-775f85ce-443a-47c4-aa97-5516b569d81e' class='xr-index-data-in' type='checkbox'/><label for='index-775f85ce-443a-47c4-aa97-5516b569d81e' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1], dtype=&#x27;int64&#x27;, name=&#x27;band&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-38f04958-63a6-4332-8026-94ec7f313fb9' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-38f04958-63a6-4332-8026-94ec7f313fb9' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div>
</div>
<p>Note that the tools do not account for edge effects, which instead resolve to <code class="docutils literal notranslate"><span class="pre">nan</span></code> values.</p>
<p>We can now plot as follows:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mf">6.5</span><span class="p">),</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">terrain</span><span class="o">.</span><span class="n">dem</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gist_earth&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">cbar_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Elevation [m a.s.l.]&#39;</span><span class="p">})</span>

<span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">terrain</span><span class="o">.</span><span class="n">slope</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">cbar_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Slope [˚]&#39;</span><span class="p">})</span>

<span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">terrain</span><span class="o">.</span><span class="n">aspect</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;twilight&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">360</span><span class="p">,</span> <span class="n">cbar_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Aspect [˚]&#39;</span><span class="p">})</span>

<span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">vrange</span><span class="o">=</span><span class="mf">0.005</span>
<span class="n">terrain</span><span class="o">.</span><span class="n">horizontal_curvature</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="n">vrange</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">vrange</span><span class="p">,</span> <span class="n">cbar_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Horizontal Curvature [m$^{-1}$]&#39;</span><span class="p">})</span>

<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axes</span><span class="o">.</span><span class="n">ravel</span><span class="p">():</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
    <span class="n">terrain</span><span class="o">.</span><span class="n">hillshade</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys_r&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.3</span><span class="p">,</span> <span class="n">add_colorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;../images/example_mosaic_terrain.jpg&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_mosaic_and_terrain_36_0.png" src="../_images/notebooks_mosaic_and_terrain_36_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../getting_started/cite.html" class="btn btn-neutral float-left" title="Cite" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="strip_search_and_dem_difference.html" class="btn btn-neutral float-right" title="Strip search and coregistraion" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Tom Chudley.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>